[2025-03-24 00:02:37 INF] Fast Wiki API Host is starting...
 [2025-03-24 00:02:41 INF] Fast Wiki API Host is starting...
 [2025-03-24 00:02:45 INF] Fast Wiki API Host is starting...
 [2025-03-24 00:02:45 WRN] The property 'KnowledgeItem.ExtraData' is a collection or enumeration type with a value converter but with no value comparer. Set a value comparer to ensure the collection/enumeration elements are compared correctly.
 [2025-03-24 00:02:45 WRN] The property 'PluginItem.OutputParameters' is a collection or enumeration type with a value converter but with no value comparer. Set a value comparer to ensure the collection/enumeration elements are compared correctly.
 [2025-03-24 00:02:45 WRN] The property 'PluginItem.Parameters' is a collection or enumeration type with a value converter but with no value comparer. Set a value comparer to ensure the collection/enumeration elements are compared correctly.
 [2025-03-24 00:02:45 WRN] The property 'UserAuthExtensions.ExtendData' is a collection or enumeration type with a value converter but with no value comparer. Set a value comparer to ensure the collection/enumeration elements are compared correctly.
 [2025-03-24 00:03:06 INF] Fast Wiki API Host is starting...
 [2025-03-24 00:03:07 WRN] The property 'KnowledgeItem.ExtraData' is a collection or enumeration type with a value converter but with no value comparer. Set a value comparer to ensure the collection/enumeration elements are compared correctly.
 [2025-03-24 00:03:07 WRN] The property 'PluginItem.OutputParameters' is a collection or enumeration type with a value converter but with no value comparer. Set a value comparer to ensure the collection/enumeration elements are compared correctly.
 [2025-03-24 00:03:07 WRN] The property 'PluginItem.Parameters' is a collection or enumeration type with a value converter but with no value comparer. Set a value comparer to ensure the collection/enumeration elements are compared correctly.
 [2025-03-24 00:03:07 WRN] The property 'UserAuthExtensions.ExtendData' is a collection or enumeration type with a value converter but with no value comparer. Set a value comparer to ensure the collection/enumeration elements are compared correctly.
 [2025-03-24 00:04:04 INF] Fast Wiki API Host is starting...
 [2025-03-24 00:04:22 INF] Fast Wiki API Host is starting...
 [2025-03-24 00:04:45 INF] Fast Wiki API Host is starting...
 [2025-03-24 00:05:00 INF] Fast Wiki API Host is starting...
 [2025-03-24 00:05:41 INF] Fast Wiki API Host is starting...
 [2025-03-24 00:05:41 WRN] The property 'KnowledgeItem.ExtraData' is a collection or enumeration type with a value converter but with no value comparer. Set a value comparer to ensure the collection/enumeration elements are compared correctly.
 [2025-03-24 00:05:41 WRN] The property 'PluginItem.OutputParameters' is a collection or enumeration type with a value converter but with no value comparer. Set a value comparer to ensure the collection/enumeration elements are compared correctly.
 [2025-03-24 00:05:41 WRN] The property 'PluginItem.Parameters' is a collection or enumeration type with a value converter but with no value comparer. Set a value comparer to ensure the collection/enumeration elements are compared correctly.
 [2025-03-24 00:05:41 WRN] The property 'UserAuthExtensions.ExtendData' is a collection or enumeration type with a value converter but with no value comparer. Set a value comparer to ensure the collection/enumeration elements are compared correctly.
 [2025-03-24 00:05:45 INF] Fast Wiki API Host is starting...
 [2025-03-24 00:05:46 WRN] The property 'KnowledgeItem.ExtraData' is a collection or enumeration type with a value converter but with no value comparer. Set a value comparer to ensure the collection/enumeration elements are compared correctly.
 [2025-03-24 00:05:46 WRN] The property 'PluginItem.OutputParameters' is a collection or enumeration type with a value converter but with no value comparer. Set a value comparer to ensure the collection/enumeration elements are compared correctly.
 [2025-03-24 00:05:46 WRN] The property 'PluginItem.Parameters' is a collection or enumeration type with a value converter but with no value comparer. Set a value comparer to ensure the collection/enumeration elements are compared correctly.
 [2025-03-24 00:05:46 WRN] The property 'UserAuthExtensions.ExtendData' is a collection or enumeration type with a value converter but with no value comparer. Set a value comparer to ensure the collection/enumeration elements are compared correctly.
 [2025-03-24 00:05:50 INF] Fast Wiki API Host is starting...
 [2025-03-24 00:05:50 WRN] The property 'KnowledgeItem.ExtraData' is a collection or enumeration type with a value converter but with no value comparer. Set a value comparer to ensure the collection/enumeration elements are compared correctly.
 [2025-03-24 00:05:50 WRN] The property 'PluginItem.OutputParameters' is a collection or enumeration type with a value converter but with no value comparer. Set a value comparer to ensure the collection/enumeration elements are compared correctly.
 [2025-03-24 00:05:50 WRN] The property 'PluginItem.Parameters' is a collection or enumeration type with a value converter but with no value comparer. Set a value comparer to ensure the collection/enumeration elements are compared correctly.
 [2025-03-24 00:05:50 WRN] The property 'UserAuthExtensions.ExtendData' is a collection or enumeration type with a value converter but with no value comparer. Set a value comparer to ensure the collection/enumeration elements are compared correctly.
 [2025-03-24 00:06:08 INF] Fast Wiki API Host is starting...
 [2025-03-24 00:06:10 WRN] The property 'KnowledgeItem.ExtraData' is a collection or enumeration type with a value converter but with no value comparer. Set a value comparer to ensure the collection/enumeration elements are compared correctly.
 [2025-03-24 00:06:10 WRN] The property 'PluginItem.OutputParameters' is a collection or enumeration type with a value converter but with no value comparer. Set a value comparer to ensure the collection/enumeration elements are compared correctly.
 [2025-03-24 00:06:10 WRN] The property 'PluginItem.Parameters' is a collection or enumeration type with a value converter but with no value comparer. Set a value comparer to ensure the collection/enumeration elements are compared correctly.
 [2025-03-24 00:06:10 WRN] The property 'UserAuthExtensions.ExtendData' is a collection or enumeration type with a value converter but with no value comparer. Set a value comparer to ensure the collection/enumeration elements are compared correctly.
 [2025-03-24 00:06:10 INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA journal_mode = 'wal';
 [2025-03-24 00:06:10 INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
 [2025-03-24 00:06:10 INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsLock' AND "type" = 'table';
 [2025-03-24 00:06:10 INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsLock" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK___EFMigrationsLock" PRIMARY KEY,
    "Timestamp" TEXT NOT NULL
);
 [2025-03-24 00:06:10 INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT OR IGNORE INTO "__EFMigrationsLock"("Id", "Timestamp") VALUES(1, '2025-03-23 16:06:10.3909288+00:00');
SELECT changes();
 [2025-03-24 00:06:10 INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
 [2025-03-24 00:06:10 INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
 [2025-03-24 00:06:10 INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
 [2025-03-24 00:06:10 INF] Applying migration '20250323160550_InitialCreate'.
 [2025-03-24 00:06:10 INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "chat_histories" (
    -- 聊天记录

    -- 聊天记录ID
    "Id" INTEGER NOT NULL CONSTRAINT "PK_chat_histories" PRIMARY KEY AUTOINCREMENT,

    -- 会话ID
    "SessionId" TEXT NOT NULL,

    -- 聊天内容
    "Content" TEXT NOT NULL,

    -- 发送用户ID
    "UserId" TEXT NOT NULL,

    -- 发送用户IP
    "IP" TEXT NOT NULL,

    -- 使用的智能体ID
    "AgentId" TEXT NOT NULL,

    -- 是否发送消息
    "SendMessage" INTEGER NOT NULL DEFAULT 0,

    "Creator" TEXT NULL,

    "CreationTime" TEXT NULL,

    "Modifier" TEXT NULL,

    "ModificationTime" TEXT NULL
);
 [2025-03-24 00:06:10 INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "roles" (
    -- 角色

    -- 角色ID
    "Id" TEXT NOT NULL CONSTRAINT "PK_roles" PRIMARY KEY,

    -- 角色名称
    "Name" TEXT NOT NULL,

    -- 角色描述
    "Description" TEXT NOT NULL,

    -- 角色编码 唯一
    "Code" TEXT NOT NULL,

    "Creator" TEXT NULL,

    "CreationTime" TEXT NULL,

    "Modifier" TEXT NULL,

    "ModificationTime" TEXT NULL
);
 [2025-03-24 00:06:10 INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "users" (
    -- 用户

    -- 用户ID
    "Id" TEXT NOT NULL CONSTRAINT "PK_users" PRIMARY KEY,

    -- 用户名
    "Account" TEXT NOT NULL,

    "Name" TEXT NOT NULL,

    -- 密码
    "Password" TEXT NOT NULL,

    "Salt" TEXT NOT NULL,

    -- 头像
    "Avatar" TEXT NOT NULL,

    -- 邮箱
    "Email" TEXT NOT NULL,

    -- 手机号
    "Phone" TEXT NOT NULL,

    -- 简介
    "Introduction" TEXT NOT NULL,

    "IsDisable" INTEGER NOT NULL,

    "Creator" TEXT NULL,

    "CreationTime" TEXT NULL,

    "Modifier" TEXT NULL,

    "ModificationTime" TEXT NULL
);
 [2025-03-24 00:06:10 INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "work_spaces" (
    -- 工作空间

    -- 工作空间ID
    "Id" INTEGER NOT NULL CONSTRAINT "PK_work_spaces" PRIMARY KEY AUTOINCREMENT,

    -- 工作空间名称
    "Name" TEXT NOT NULL,

    -- 工作空间描述
    "Description" TEXT NULL,

    "State" INTEGER NOT NULL,

    "Creator" TEXT NULL,

    "CreationTime" TEXT NULL,

    "Modifier" TEXT NULL,

    "ModificationTime" TEXT NULL
);
 [2025-03-24 00:06:10 INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "user_auth_extensions" (
    -- 用户认证扩展

    -- 用户认证扩展ID
    "Id" TEXT NOT NULL CONSTRAINT "PK_user_auth_extensions" PRIMARY KEY,

    -- 用户ID
    "UserId" TEXT NOT NULL,

    -- 认证ID
    "AuthId" TEXT NOT NULL,

    -- 认证类型
    "AuthType" TEXT NOT NULL,

    -- 扩展数据
    "ExtendData" TEXT NOT NULL,
    CONSTRAINT "FK_user_auth_extensions_users_UserId" FOREIGN KEY ("UserId") REFERENCES "users" ("Id") ON DELETE CASCADE
);
 [2025-03-24 00:06:10 INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "user_roles" (
    -- 用户角色

    -- 用户ID
    "UserId" TEXT NOT NULL,

    -- 角色ID
    "RoleId" TEXT NOT NULL,
    CONSTRAINT "PK_user_roles" PRIMARY KEY ("UserId", "RoleId"),
    CONSTRAINT "FK_user_roles_roles_RoleId" FOREIGN KEY ("RoleId") REFERENCES "roles" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_user_roles_users_UserId" FOREIGN KEY ("UserId") REFERENCES "users" ("Id") ON DELETE CASCADE
);
 [2025-03-24 00:06:10 INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "agents" (
    -- 智能体

    -- 智能体ID
    "Id" INTEGER NOT NULL CONSTRAINT "PK_agents" PRIMARY KEY AUTOINCREMENT,

    -- 智能体名称
    "Name" TEXT NOT NULL,

    -- 智能体介绍
    "Introduction" TEXT NOT NULL,

    -- 智能体头像
    "Avatar" TEXT NOT NULL,

    "IsCollect" INTEGER NOT NULL,

    "IsTop" INTEGER NOT NULL,

    "WorkspaceId" INTEGER NULL,

    "Creator" TEXT NULL,

    "CreationTime" TEXT NULL,

    "Modifier" TEXT NULL,

    "ModificationTime" TEXT NULL,
    CONSTRAINT "FK_agents_work_spaces_WorkspaceId" FOREIGN KEY ("WorkspaceId") REFERENCES "work_spaces" ("Id") ON DELETE CASCADE
);
 [2025-03-24 00:06:10 INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "categories" (
    -- 分类

    -- 分类ID
    "Id" TEXT NOT NULL CONSTRAINT "PK_categories" PRIMARY KEY,

    -- 分类名称
    "Name" TEXT NOT NULL,

    -- 分类描述
    "Description" TEXT NOT NULL,

    "ParentId" TEXT NULL,

    "WorkSpaceId" INTEGER NULL,

    "Creator" TEXT NULL,

    "CreationTime" TEXT NULL,

    "Modifier" TEXT NULL,

    "ModificationTime" TEXT NULL,
    CONSTRAINT "FK_categories_work_spaces_WorkSpaceId" FOREIGN KEY ("WorkSpaceId") REFERENCES "work_spaces" ("Id") ON DELETE CASCADE
);
 [2025-03-24 00:06:10 INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "plugins" (
    -- 插件

    -- 插件ID
    "Id" INTEGER NOT NULL CONSTRAINT "PK_plugins" PRIMARY KEY AUTOINCREMENT,

    -- 插件名称
    "Name" TEXT NOT NULL,

    -- 插件描述
    "Description" TEXT NOT NULL,

    "Runtime" TEXT NOT NULL,

    -- 插件头像
    "Avatar" TEXT NOT NULL,

    "Enable" INTEGER NOT NULL,

    "WorkSpaceId" INTEGER NULL,

    "Creator" TEXT NULL,

    "CreationTime" TEXT NULL,

    "Modifier" TEXT NULL,

    "ModificationTime" TEXT NULL,
    CONSTRAINT "FK_plugins_work_spaces_WorkSpaceId" FOREIGN KEY ("WorkSpaceId") REFERENCES "work_spaces" ("Id") ON DELETE CASCADE
);
 [2025-03-24 00:06:10 INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "work_space_members" (
    -- 工作空间成员

    -- 工作空间ID
    "WorkSpaceId" INTEGER NOT NULL,

    -- 用户ID
    "UserId" TEXT NOT NULL,

    "RoleType" INTEGER NOT NULL,

    "Id" INTEGER NOT NULL,

    "Creator" TEXT NULL,

    "CreationTime" TEXT NULL,

    "Modifier" TEXT NULL,

    "ModificationTime" TEXT NULL,
    CONSTRAINT "PK_work_space_members" PRIMARY KEY ("WorkSpaceId", "UserId"),
    CONSTRAINT "FK_work_space_members_users_UserId" FOREIGN KEY ("UserId") REFERENCES "users" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_work_space_members_work_spaces_WorkSpaceId" FOREIGN KEY ("WorkSpaceId") REFERENCES "work_spaces" ("Id") ON DELETE CASCADE
);
 [2025-03-24 00:06:10 INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "agent_configs" (
    -- 智能体配置信息

    -- 配置ID
    "Id" INTEGER NOT NULL CONSTRAINT "PK_agent_configs" PRIMARY KEY AUTOINCREMENT,

    -- 智能体ID
    "AgentId" INTEGER NOT NULL,

    -- 对话模型
    "Model" TEXT NOT NULL DEFAULT 'gpt-4',

    -- 温度 (0-1) 越高越随机
    "Temperature" REAL NOT NULL DEFAULT 0.69999999999999996,

    -- TopP (0-1) 越高越随机
    "TopP" REAL NOT NULL DEFAULT 0.90000000000000002,

    -- 最大回复token
    "MaxResponseToken" INTEGER NOT NULL DEFAULT 4000,

    -- 输出格式
    "OutputFormat" TEXT NOT NULL DEFAULT 'markdown',

    -- 上下文数量
    "ContextSize" INTEGER NOT NULL DEFAULT 0,

    -- 开场白
    "Opening" TEXT NULL DEFAULT '你好，我是AIDotNet智能助手，我可以帮助您解决问题，您可以问我任何问题。',

    -- 是否提供用户建议提问
    "SuggestUserQuestion" INTEGER NOT NULL DEFAULT 0,

    -- 智能体提示词
    "Prompt" TEXT NULL,

    "Creator" TEXT NULL,

    "CreationTime" TEXT NULL,

    "Modifier" TEXT NULL,

    "ModificationTime" TEXT NULL,
    CONSTRAINT "FK_agent_configs_agents_AgentId" FOREIGN KEY ("AgentId") REFERENCES "agents" ("Id") ON DELETE CASCADE
);
 [2025-03-24 00:06:10 INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "knowledges" (
    -- 知识库

    -- 知识库ID
    "Id" TEXT NOT NULL CONSTRAINT "PK_knowledges" PRIMARY KEY,

    -- 知识库名称
    "Name" TEXT NOT NULL,

    -- 知识库描述
    "Description" TEXT NOT NULL,

    -- 知识库分类
    "CategoryId" TEXT NULL,

    -- 知识库 RAG 类型
    "RagType" INTEGER NOT NULL,

    -- 知识库头像
    "Avatar" TEXT NOT NULL,

    -- 知识库嵌入模型,当嵌入模型确认以后不能修改，否则会导致数据不一致
    "EmbeddingModel" TEXT NOT NULL,

    -- 知识库聊天模型
    "ChatModel" TEXT NOT NULL,

    "WorkspaceId" INTEGER NULL,

    "Creator" TEXT NULL,

    "CreationTime" TEXT NULL,

    "Modifier" TEXT NULL,

    "ModificationTime" TEXT NULL,
    CONSTRAINT "FK_knowledges_categories_CategoryId" FOREIGN KEY ("CategoryId") REFERENCES "categories" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_knowledges_work_spaces_WorkspaceId" FOREIGN KEY ("WorkspaceId") REFERENCES "work_spaces" ("Id") ON DELETE CASCADE
);
 [2025-03-24 00:06:10 INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "plugin_items" (
    -- 插件项

    -- 插件项ID
    "Id" INTEGER NOT NULL CONSTRAINT "PK_plugin_items" PRIMARY KEY AUTOINCREMENT,

    "WorkSpaceId" INTEGER NOT NULL,

    "PluginId" INTEGER NOT NULL,

    -- 插件项名称
    "Name" TEXT NOT NULL,

    -- 插件项描述
    "Description" TEXT NOT NULL,

    "Parameters" TEXT NOT NULL,

    "OutputParameters" TEXT NOT NULL,

    "Creator" TEXT NULL,

    "CreationTime" TEXT NULL,

    "Modifier" TEXT NULL,

    "ModificationTime" TEXT NULL,
    CONSTRAINT "FK_plugin_items_plugins_PluginId" FOREIGN KEY ("PluginId") REFERENCES "plugins" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_plugin_items_work_spaces_WorkSpaceId" FOREIGN KEY ("WorkSpaceId") REFERENCES "work_spaces" ("Id") ON DELETE CASCADE
);
 [2025-03-24 00:06:10 INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "knowledge_items" (
    -- 知识库条目

    -- 知识库条目ID
    "Id" INTEGER NOT NULL CONSTRAINT "PK_knowledge_items" PRIMARY KEY AUTOINCREMENT,

    -- 知识库ID
    "KnowledgeId" TEXT NOT NULL,

    -- 知识库条目名称
    "Name" TEXT NOT NULL,

    "Data" TEXT NOT NULL,

    "FileId" TEXT NULL,

    "DataCount" INTEGER NOT NULL,

    "Status" INTEGER NOT NULL,

    "Enable" INTEGER NOT NULL,

    "ExtraData" TEXT NOT NULL,

    "Creator" TEXT NULL,

    "CreationTime" TEXT NULL,

    "Modifier" TEXT NULL,

    "ModificationTime" TEXT NULL,
    CONSTRAINT "FK_knowledge_items_knowledges_KnowledgeId" FOREIGN KEY ("KnowledgeId") REFERENCES "knowledges" ("Id") ON DELETE CASCADE
);
 [2025-03-24 00:06:10 INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "quantized_tasks" (
    -- 量化任务

    -- 量化任务ID
    "Id" INTEGER NOT NULL CONSTRAINT "PK_quantized_tasks" PRIMARY KEY AUTOINCREMENT,

    "KnowledgeId" TEXT NOT NULL,

    "KnowledgeItemId" INTEGER NOT NULL,

    -- 量化任务状态
    "State" INTEGER NOT NULL,

    -- 备注
    "Remark" TEXT NOT NULL,

    "ProcessTime" TEXT NOT NULL,

    "Creator" TEXT NULL,

    "CreationTime" TEXT NULL,

    "Modifier" TEXT NULL,

    "ModificationTime" TEXT NULL,
    CONSTRAINT "FK_quantized_tasks_knowledge_items_KnowledgeItemId" FOREIGN KEY ("KnowledgeItemId") REFERENCES "knowledge_items" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_quantized_tasks_knowledges_KnowledgeId" FOREIGN KEY ("KnowledgeId") REFERENCES "knowledges" ("Id") ON DELETE CASCADE
);
 [2025-03-24 00:06:10 INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_agent_configs_AgentId" ON "agent_configs" ("AgentId");
 [2025-03-24 00:06:10 INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_agents_Name" ON "agents" ("Name");
 [2025-03-24 00:06:10 INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_agents_WorkspaceId" ON "agents" ("WorkspaceId");
 [2025-03-24 00:06:10 INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_categories_Name" ON "categories" ("Name");
 [2025-03-24 00:06:10 INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_categories_WorkSpaceId" ON "categories" ("WorkSpaceId");
 [2025-03-24 00:06:10 INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_chat_histories_SessionId" ON "chat_histories" ("SessionId");
 [2025-03-24 00:06:10 INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_chat_histories_UserId" ON "chat_histories" ("UserId");
 [2025-03-24 00:06:10 INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_knowledge_items_KnowledgeId" ON "knowledge_items" ("KnowledgeId");
 [2025-03-24 00:06:10 INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_knowledge_items_Name" ON "knowledge_items" ("Name");
 [2025-03-24 00:06:10 INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_knowledges_CategoryId" ON "knowledges" ("CategoryId");
 [2025-03-24 00:06:10 INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_knowledges_Name" ON "knowledges" ("Name");
 [2025-03-24 00:06:10 INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_knowledges_WorkspaceId" ON "knowledges" ("WorkspaceId");
 [2025-03-24 00:06:10 INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_plugin_items_Name" ON "plugin_items" ("Name");
 [2025-03-24 00:06:10 INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_plugin_items_PluginId" ON "plugin_items" ("PluginId");
 [2025-03-24 00:06:10 INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_plugin_items_WorkSpaceId" ON "plugin_items" ("WorkSpaceId");
 [2025-03-24 00:06:10 INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_plugins_Name" ON "plugins" ("Name");
 [2025-03-24 00:06:10 INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_plugins_WorkSpaceId" ON "plugins" ("WorkSpaceId");
 [2025-03-24 00:06:10 INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_quantized_tasks_KnowledgeId" ON "quantized_tasks" ("KnowledgeId");
 [2025-03-24 00:06:10 INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_quantized_tasks_KnowledgeItemId" ON "quantized_tasks" ("KnowledgeItemId");
 [2025-03-24 00:06:10 INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_roles_Code" ON "roles" ("Code");
 [2025-03-24 00:06:10 INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_roles_Name" ON "roles" ("Name");
 [2025-03-24 00:06:10 INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_user_auth_extensions_AuthType_AuthId" ON "user_auth_extensions" ("AuthType", "AuthId");
 [2025-03-24 00:06:10 INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_user_auth_extensions_UserId" ON "user_auth_extensions" ("UserId");
 [2025-03-24 00:06:10 INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_user_roles_RoleId" ON "user_roles" ("RoleId");
 [2025-03-24 00:06:10 INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_users_Account" ON "users" ("Account");
 [2025-03-24 00:06:10 INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_users_Email" ON "users" ("Email");
 [2025-03-24 00:06:10 INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_users_Name" ON "users" ("Name");
 [2025-03-24 00:06:10 INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_users_Phone" ON "users" ("Phone");
 [2025-03-24 00:06:10 INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_work_space_members_UserId" ON "work_space_members" ("UserId");
 [2025-03-24 00:06:10 INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_work_space_members_WorkSpaceId" ON "work_space_members" ("WorkSpaceId");
 [2025-03-24 00:06:10 INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_work_space_members_WorkSpaceId_UserId" ON "work_space_members" ("WorkSpaceId", "UserId");
 [2025-03-24 00:06:10 INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_work_spaces_Name" ON "work_spaces" ("Name");
 [2025-03-24 00:06:10 INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250323160550_InitialCreate', '9.0.3');
 [2025-03-24 00:06:10 INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "__EFMigrationsLock";
 [2025-03-24 00:06:11 INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "users" AS "u")
 [2025-03-24 00:06:11 INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 5), @p2='?' (DbType = DateTimeOffset), @p3='?', @p4='?' (Size = 5), @p5='?' (DbType = DateTimeOffset), @p6='?', @p7='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "roles" ("Id", "Code", "CreationTime", "Creator", "Description", "ModificationTime", "Modifier", "Name")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
 [2025-03-24 00:06:11 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 5), @p2='?' (Size = 2), @p3='?' (DbType = DateTimeOffset), @p4='?', @p5='?' (Size = 16), @p6='?' (Size = 23), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?', @p10='?' (Size = 8), @p11='?' (Size = 32), @p12='?' (Size = 11), @p13='?' (Size = 32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "users" ("Id", "Account", "Avatar", "CreationTime", "Creator", "Email", "Introduction", "IsDisable", "ModificationTime", "Modifier", "Name", "Password", "Phone", "Salt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
 [2025-03-24 00:06:11 INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTimeOffset), @p1='?', @p2='?' (Size = 7), @p3='?' (DbType = DateTimeOffset), @p4='?', @p5='?' (Size = 6), @p6='?' (DbType = Byte)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "work_spaces" ("CreationTime", "Creator", "Description", "ModificationTime", "Modifier", "Name", "State")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "Id";
 [2025-03-24 00:06:11 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "user_roles" ("RoleId", "UserId")
VALUES (@p0, @p1);
 [2025-03-24 00:06:11 INF] User profile is available. Using 'C:\Users\23957\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
 [2025-03-24 00:06:11 INF] Now listening on: http://localhost:5087
 [2025-03-24 00:06:11 INF] Application started. Press Ctrl+C to shut down.
 [2025-03-24 00:06:11 INF] Hosting environment: Development
 [2025-03-24 00:06:11 INF] Content root path: D:\GitHub\fast-wiki\src\FastWiki.HttpApi.Host
 [2025-03-24 00:06:11 INF] Request starting HTTP/1.1 GET http://localhost:5087/scalar/v1 - null null
 [2025-03-24 00:06:11 INF] Executing endpoint 'HTTP: GET /scalar/{documentName}'
 [2025-03-24 00:06:11 INF] Write content with HTTP Response ContentType of text/html
 [2025-03-24 00:06:12 INF] Executed endpoint 'HTTP: GET /scalar/{documentName}'
 [2025-03-24 00:06:12 INF] Request finished HTTP/1.1 GET http://localhost:5087/scalar/v1 - 200 null text/html 204.1483ms
 [2025-03-24 00:06:12 INF] Request starting HTTP/1.1 GET http://localhost:5087/scalar/scalar.js - null null
 [2025-03-24 00:06:12 INF] Executing endpoint 'HTTP: GET /scalar/{documentName}'
 [2025-03-24 00:06:12 INF] Sending file with download name ''.
 [2025-03-24 00:06:12 INF] Executed endpoint 'HTTP: GET /scalar/{documentName}'
 [2025-03-24 00:06:12 INF] Request finished HTTP/1.1 GET http://localhost:5087/scalar/scalar.js - 200 null text/javascript 36.0006ms
 [2025-03-24 00:06:12 INF] Request starting HTTP/1.1 GET http://localhost:5087/openapi/v1.json - null null
 [2025-03-24 00:06:12 INF] Executing endpoint 'HTTP: GET /openapi/{documentName}.json'
 [2025-03-24 00:06:12 INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
 [2025-03-24 00:06:12 INF] Executed endpoint 'HTTP: GET /openapi/{documentName}.json'
 [2025-03-24 00:06:12 INF] Request finished HTTP/1.1 GET http://localhost:5087/openapi/v1.json - 200 null application/json;charset=utf-8 166.4244ms
 [2025-03-24 00:06:13 INF] Request starting HTTP/1.1 GET http://localhost:5087/favicon.ico - null null
 [2025-03-24 00:06:13 INF] Request finished HTTP/1.1 GET http://localhost:5087/favicon.ico - 404 0 null 9.9977ms
 [2025-03-24 00:06:13 INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5087/favicon.ico, Response status code: 404
 [2025-03-24 00:06:16 INF] Request starting HTTP/1.1 POST http://localhost:5087/api/v1/notifications/login-verification-code - null 0
 [2025-03-24 00:06:16 INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenSignatureKeyNotFoundException: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'ggWVflAKCIFScD7RjgF2E74Hly6MwW7hE-YNBOaSLe4'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignature(JsonWebToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignatureAndIssuerSecurityKey(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
 [2025-03-24 00:06:16 INF] Bearer was not authenticated. Failure message: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'ggWVflAKCIFScD7RjgF2E74Hly6MwW7hE-YNBOaSLe4'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
 [2025-03-24 00:06:16 INF] Executing endpoint 'HTTP: POST /api/v1/notifications/login-verification-code'
 [2025-03-24 00:06:16 INF] Executed endpoint 'HTTP: POST /api/v1/notifications/login-verification-code'
 [2025-03-24 00:06:16 INF] Request finished HTTP/1.1 POST http://localhost:5087/api/v1/notifications/login-verification-code - 200 null application/json; charset=utf-8 238.338ms
 